# ESMValTool
# recipe_cmug_cmip6.yml
---
documentation:

  title: Perfmetrics plots with CMIP5/CMIP6 and ESACCI data

  description: |
    ESACCI CMUG CMIP6 analysis.

  authors:
    - lauer_axel

  maintainer:
    - lauer_axel

  projects:
    - cmug


preprocessors:
  ppNOLEV1x1:
    regrid:
      target_grid: 1x1
      scheme: linear
    mask_fillvalues:
      threshold_fraction: 0.95

  prep_chl:
    custom_order: true
    extract_levels:
      levels: 0.
      scheme: nearest_extrapolate
    regrid:
      target_grid: 1x1
      scheme: linear
    convert_units:
      units: mg m-3
    mask_above_threshold:
      threshold: 1.5
#    mask_fillvalues:
#      threshold_fraction: 0.95


diagnostics:

  clt:
    title: Calculation of performance metrics (total cloud cover)
    description: Total cloud cover
    themes:
      - clouds
    realms:
      - atmos
    variables:
      clt:
        preprocessor: ppNOLEV1x1
        reference_dataset: ESACCI-CLOUD
#        alternative_dataset: PATMOS-x
        mip: Amon
        project: CMIP5
        exp: historical
        ensemble: r1i1p1
        start_year: 1986
        end_year: 2005
    additional_datasets:
#      - {dataset: ACCESS1-0}
#      - {dataset: ACCESS1-3}
#      - {dataset: bcc-csm1-1}
#      - {dataset: bcc-csm1-1-m}
#      - {dataset: BNU-ESM}
#      - {dataset: CanESM2}
#      - {dataset: CCSM4}
#      - {dataset: CESM1-BGC}
#      - {dataset: CESM1-CAM5}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: CNRM-CM5}
#      - {dataset: CSIRO-Mk3-6-0}
#      - {dataset: EC-EARTH, ensemble: r6i1p1}
#      - {dataset: FGOALS-g2}
#      - {dataset: FIO-ESM}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-H-CC}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R-CC}
#      - {dataset: HadCM3}
#      - {dataset: HadGEM2-AO}
#      - {dataset: HadGEM2-CC}
#      - {dataset: HadGEM2-ES}
#      - {dataset: inmcm4}
#      - {dataset: IPSL-CM5A-LR}
#      - {dataset: IPSL-CM5A-MR}
#      - {dataset: IPSL-CM5B-LR}
#      - {dataset: MIROC4h}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MPI-ESM-LR}
#      - {dataset: MPI-ESM-MR}
#      - {dataset: MRI-CGCM3}
#      - {dataset: NorESM1-M}
#      - {dataset: NorESM1-ME}
#      - {dataset: ACCESS-CM2, institute: CSIRO-ARCCSS, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ACCESS-ESM1-5, institute: CSIRO, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-CSM2-MR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CAMS-CSM1-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-0, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-1, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-1-ECA, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: FGOALS-g3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
#      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
#      - {dataset: GISS-E2-1-G, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: GISS-E2-1-H, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
#      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: MIROC6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: NESM3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: NorCPM1, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: NorESM2-MM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: SAM0-UNICON, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
      - {dataset: ESACCI-CLOUD, project: OBS, type: sat,
         version: AVHRR-fv3.0, tier: 2, start_year: 1996, end_year: 2016}
#      - {dataset: PATMOS-x, project: OBS, type: sat, version: NOAA, tier: 2,
#         start_year: 1996, end_year: 2016}
    scripts:
      grading: &grading_settings
        script: perfmetrics/main.ncl
        # Plot type ('cycle', 'zonal', 'latlon', 'cycle_latlon', 'cycle_zonal')
        plot_type: cycle_latlon
        # Time average ('opt' argument of time_operations.ncl)
        time_avg: monthlyclim
        # Region ('global', 'trop', 'nhext', 'shext')
        region: global
        # Plot standard deviation ('all', 'none', 'ref_model' or dataset name)
        plot_stddev: ref_model
        # Plot legend in a separate file
        legend_outside: true
        # Plot style
        styleset: CMIP5
        # Calculate grading
        calc_grading: true
        # Metric ('RMSD', 'BIAS', taylor')
        metric: [RMSD]
        # Normalization ('mean', 'median', 'centered_median', 'none')
        normalization: [centered_median]

#  abs550aer:
#    title: Calculation of performance metrics (absorption optical depth at 550 nm)
#    description: Absorption optical depth at 550 nm
#    themes:
#      - aerosols
#    realms:
#      - atmos
#    variables:
#      abs550aer:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-AEROSOL
#        mip: aero
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CSIRO-Mk3-6-0}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: IPSL-CM5B-LR}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: NorESM1-M}
#      - {dataset: NorESM1-ME}
#      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: E3SM-1-0, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: E3SM-1-1, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r2i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: KACE-1-0-G, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: ESACCI-AEROSOL, project: OBS, type: sat,
#         version: SU-v4.21, tier: 2, start_year: 1997, end_year: 2011}
#    scripts:
#      grading:
#        <<: *grading_settings

#  iwp:
#    title: Calculation of performance metrics (cloud ice water path)
#    description: Cloud ice water path
#    themes:
#      - phys
#    realms:
#      - atmos
#    variables:
#      clivi:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: ACCESS1-0}
#      - {dataset: ACCESS1-3}
#      - {dataset: bcc-csm1-1}
#      - {dataset: bcc-csm1-1-m}
#      - {dataset: BNU-ESM}
#      - {dataset: CanESM2}
#      - {dataset: CCSM4}
#      - {dataset: CESM1-BGC}
#      - {dataset: CESM1-CAM5}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: CNRM-CM5}
#      - {dataset: CSIRO-Mk3-6-0}
##no data      - {dataset: EC-EARTH, ensemble: r6i1p1}
#      - {dataset: FGOALS-g2}
#      - {dataset: FIO-ESM}
##no data      - {dataset: GFDL-CM2p1}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-H-CC}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R-CC}
##no data      - {dataset: HadCM3}
##no data      - {dataset: HadGEM2-AO}
#      - {dataset: HadGEM2-CC}
#      - {dataset: HadGEM2-ES}
#      - {dataset: inmcm4}
#      - {dataset: IPSL-CM5A-LR}
#      - {dataset: IPSL-CM5A-MR}
#      - {dataset: IPSL-CM5B-LR}
#      - {dataset: MIROC4h}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MPI-ESM-LR}
#      - {dataset: MPI-ESM-MR}
#      - {dataset: MRI-CGCM3}
#      - {dataset: NorESM1-M}
#      - {dataset: NorESM1-ME}
#      - {dataset: ACCESS-CM2, institute: CSIRO-ARCCSS, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ACCESS-ESM1-5, institute: CSIRO, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-CSM2-MR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CAMS-CSM1-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-0, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-1, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: E3SM-1-1-ECA, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: FGOALS-g3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
#      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
#      - {dataset: GISS-E2-1-G, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: GISS-E2-1-H, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
#      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: MIROC6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##no data      - {dataset: NESM3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##no data      - {dataset: NorCPM1, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: NorESM2-MM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: SAM0-UNICON, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6}#      - {dataset: CMCC-CM}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
#    scripts:
#      grading:
#        <<: *grading_settings

  lst:
    title: Calculation of performance metrics (land surface (skin) temperature)
    description: Land surface (skin) temperature
    themes:
      - phys
    realms:
      - atmos
      - ocean
    variables:
      ts:
        preprocessor: ppNOLEV1x1
        reference_dataset: ESACCI-LST
        mip: Amon
        project: CMIP5
        exp: historical
        ensemble: r1i1p1
        start_year: 1986
        end_year: 2005
    additional_datasets:
      - {dataset: ACCESS1-0}
      - {dataset: ACCESS1-3}
      - {dataset: bcc-csm1-1}
      - {dataset: bcc-csm1-1-m}
      - {dataset: BNU-ESM}
      - {dataset: CanCM4}
      - {dataset: CanESM2}
      - {dataset: CCSM4}
      - {dataset: CESM1-BGC}
      - {dataset: CESM1-CAM5}
      - {dataset: CMCC-CM}
      - {dataset: CMCC-CMS}
      - {dataset: CNRM-CM5}
      - {dataset: CSIRO-Mk3-6-0}
#no data      - {dataset: EC-EARTH, ensemble: r6i1p1}
      - {dataset: FGOALS-g2}
      - {dataset: FIO-ESM}
      - {dataset: GFDL-CM2p1}
      - {dataset: GFDL-CM3}
      - {dataset: GFDL-ESM2G}
      - {dataset: GFDL-ESM2M}
      - {dataset: GISS-E2-H, ensemble: r1i1p2}
      - {dataset: GISS-E2-H-CC}
      - {dataset: GISS-E2-R, ensemble: r1i1p2}
      - {dataset: GISS-E2-R-CC}
      - {dataset: HadCM3}
      - {dataset: HadGEM2-AO}
      - {dataset: HadGEM2-CC}
      - {dataset: HadGEM2-ES}
      - {dataset: inmcm4}
      - {dataset: IPSL-CM5A-LR}
      - {dataset: IPSL-CM5A-MR}
      - {dataset: IPSL-CM5B-LR}
      - {dataset: MIROC4h}
      - {dataset: MIROC5}
      - {dataset: MIROC-ESM}
      - {dataset: MIROC-ESM-CHEM}
      - {dataset: MPI-ESM-LR}
      - {dataset: MPI-ESM-MR}
      - {dataset: MRI-CGCM3}
      - {dataset: NorESM1-M}
      - {dataset: NorESM1-ME}
      - {dataset: ACCESS-CM2, institute: CSIRO-ARCCSS, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: ACCESS-ESM1-5, institute: CSIRO, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: BCC-CSM2-MR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CAMS-CSM1-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
      - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
      - {dataset: E3SM-1-0, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
      - {dataset: E3SM-1-1, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
      - {dataset: E3SM-1-1-ECA, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
      - {dataset: FGOALS-g3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
      - {dataset: GISS-E2-1-G, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: GISS-E2-1-H, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
      - {dataset: HadGEM3-GC31-MM, ensemble: r1i1p1f3, grid: gn, project: CMIP6}
      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
      - {dataset: MCM-UA-1-0, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: MIROC6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: NESM3, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: NorCPM1, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: NorESM2-MM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
      - {dataset: SAM0-UNICON, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6}#      - {dataset: CMCC-CM}
      - {dataset: ESACCI-LST, project: OBS, type: sat, tier: 2, start_year: 2003,
         end_year: 2018, version: '1.00'}
    scripts:
      grading:
        <<: *grading_settings
        alt_short_name: 'lst'

#  lwcre:
#    title: Calculation of performance metrics (longwave cloud radiative effect)
#    description: Longwave cloud radiative effect
#    themes:
#      - clouds
#    realms:
#      - atmos
#    variables:
#      lwcre:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
##        alternative_dataset: CERES-EBAF
#        mip: Amon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: FGOALS-g2}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r2i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
#    scripts:
#      grading:
#        <<: *grading_settings

#  lwp:
#    title: Calculation of performance metrics (cloud liquid water path)
#    description: Cloud liquid water path
#    themes:
#      - phys
#    realms:
#      - atmos
#    variables:
#      lwp:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        derive: true
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
##      - {dataset: GFDL-CM2p1}
##      - {dataset: GISS-E2-H, ensemble: r1i1p2}
##      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
#    scripts:
#      grading:
#        <<: *grading_settings

# fatal:Coordinate variables must be the same dimension as their dimension
#  oc:
#    title: Calculation of performance metrics (ocean colour)
#    description: Ocean colour
#    themes:
#      - bgchem
#      - phys
#    realms:
#      - ocnBgchem
#    variables:
#      chl:
#        preprocessor: prep_chl
#        reference_dataset: ESACCI-OC
#        mip: Omon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
##extract level error      - {dataset: MPI-ESM-LR}
##extract level error      - {dataset: MPI-ESM-MR}
#      - {dataset: ACCESS-ESM1-5, institute: CSIRO, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##cmor error      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##cmor error      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##cmor error      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##cmor error      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
##cmor error      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: GISS-E2-1-G, ensemble: r101i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
##cmor error      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: NorESM2-LM, grid: gr, institute: NCC, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
#      - {dataset: ESACCI-OC, project: OBS6, type: sat, version: fv5.0, tier: 2, start_year: 1998, end_year: 2017}
#    scripts:
#      grading:
#        <<: *grading_settings

#  od550aer:
#    title: Calculation of performance metrics (aerosol optical depth at 550 nm)
#    description: Aerosol optical depth at 550 nm
#    themes:
#      - aerosols
#    realms:
#      - atmos
#    variables:
#      od550aer:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-AEROSOL
##        alternative_dataset: MODIS
#        mip: aero
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: ACCESS1-0}
#      - {dataset: ACCESS1-3}
#      - {dataset: BNU-ESM}
#      - {dataset: CESM1-CAM5}
#      - {dataset: CSIRO-Mk3-6-0}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: HadGEM2-CC}
#      - {dataset: HadGEM2-ES}
#      - {dataset: IPSL-CM5B-LR}
#      - {dataset: MIROC4h}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MRI-CGCM3}
#      - {dataset: NorESM1-M}
#      - {dataset: NorESM1-ME}
#      - {dataset: ACCESS-ESM1-5, institute: CSIRO, grid: gn, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CESM2-WACCM-FV2, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CNRM-CM6-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CNRM-CM6-1-HR, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: E3SM-1-0, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: E3SM-1-1, institute: E3SM-Project, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r2i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: KACE-1-0-G, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: ESACCI-AEROSOL, project: OBS, type: sat,
#         version: SU-v4.21, tier: 2, start_year: 1997, end_year: 2011}
##      - {dataset: MODIS, project: OBS, type: sat, version: MYD08-M3, tier: 3}
#    scripts:
#      grading:
#        <<: *grading_settings

#  od550lt1aer:
#    title: Calculation of performance metrics (fine mode optical depth at 550 nm)
#    description: Fine mode optical depth at 550 nm
#    themes:
#      - aerosols
#    realms:
#      - atmos
#    variables:
#      od550lt1aer:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-AEROSOL
#        mip: aero
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CSIRO-Mk3-6-0}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: IPSL-CM5B-LR}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-ESM-1-1-LR, grid: gn, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-CM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r2i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM4-8, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: INM-CM5-0, grid: gr1, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
##cmor error      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: MIROC-ES2L, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-HR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: ESACCI-AEROSOL, project: OBS, type: sat,
#         version: SU-v4.21, tier: 2, start_year: 1997, end_year: 2011}
#    scripts:
#      grading:
#        <<: *grading_settings

#  od870aer:
#    title: Calculation of performance metrics (aerosol optical depth at 870 nm)
#    description: Aerosol optical depth at 870 nm
#    themes:
#      - aerosols
#    realms:
#      - atmos
#    variables:
#      od870aer:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-AEROSOL
#        mip: aero
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: ACCESS1-0}
#      - {dataset: ACCESS1-3}
#      - {dataset: CSIRO-Mk3-6-0}
#      - {dataset: GFDL-CM3}
#      - {dataset: GFDL-ESM2G}
#      - {dataset: GFDL-ESM2M}
#      - {dataset: HadGEM2-CC}
#      - {dataset: HadGEM2-ES}
#      - {dataset: MIROC5}
#      - {dataset: MIROC-ESM}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MRI-CGCM3}
#      - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f2, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-LL, ensemble: r1i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: HadGEM3-GC31-MM, ensemble: r2i1p1f3, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: IPSL-CM6A-LR, ensemble: r1i1p1f1, grid: gr, project: CMIP6, mip: AERmon}
#      - {dataset: MPI-ESM-1-2-HAM, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: NorESM2-LM, grid: gn, institute: NCC, ensemble: r1i1p1f1, project: CMIP6, mip: AERmon}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: ESACCI-AEROSOL, project: OBS, type: sat,
#         version: SU-v4.21, tier: 2, start_year: 1997, end_year: 2005}
#    scripts:
#      grading:
#        <<: *grading_settings

#  prw:
#    title: Calculation of performance metrics (water vapor path)
#    description: Water vapor path
#    themes:
#      - phys
#    realms:
#      - atmos
#    variables:
#      prw:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-WATERVAPOUR
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
##      - {dataset: CanCM4}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
##      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
##      - {dataset: HadCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
##      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
##      - {dataset: MCM-UA-1-0, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ESACCI-WATERVAPOUR, project: OBS, type: sat,
#          version: CDR2-L3S-05deg_fv3.1, tier: 3, start_year: 2003, end_year: 2017}
#    scripts:
#      grading:
#        <<: *grading_settings

#  rlut:
#    title: Calculation of performance metrics (longwave radiation)
#    description: All-sky longwave radiation
#    themes:
#      - phys
#    realms:
#      - atmos
#    variables:
#      rlut:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
##        alternative_dataset: CERES-EBAF
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CanCM4}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: EC-EARTH, ensemble: r6i1p1}
#      - {dataset: FGOALS-g2}
#      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r2i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: MCM-UA-1-0, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
##      - {dataset: CERES-EBAF, project: obs4MIPs, level: L3B,
##         version: Ed2-8, tier: 1, start_year: 2001, end_year: 2015}
#    scripts:
#      grading:
#        <<: *grading_settings

#  rsut:
#    title: Calculation of performance metrics (shortwave radiation)
#    description: All-sky shortwave radiation
#    themes:
#      - phys
#    realms:
#      - atmos
#    variables:
#      rsut:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
##        alternative_dataset: CERES-EBAF
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
##      - {dataset: CERES-EBAF, project: obs4MIPs, level: L3B,
##         version: Ed2-8, tier: 1, start_year: 2001, end_year: 2015}
#    scripts:
#      grading:
#        <<: *grading_settings

#  sm:
#    title: Calculation of performance metrics (soil moisture)
#    description: Soil moisture
#    themes:
#      - phys
#    realms:
#      - land
#    variables:
#      sm:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-SOILMOISTURE
#        mip: Lmon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CanCM4}
##      - {dataset: CMCC-CM}
##      - {dataset: CMCC-CMS}
##      - {dataset: EC-EARTH, ensemble: r6i1p1}
#      - {dataset: FGOALS-g2}
##      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
##      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r2i1p2f1, grid: gn, project: CMIP6}
##      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
##      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
##      - {dataset: MCM-UA-1-0, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ESACCI-SOILMOISTURE, project: OBS, type: sat,
#         version: L3S-SSMV-COMBINED-v4.2, tier: 2}
#    scripts:
#      grading:
#        <<: *grading_settings

#  sos:
#    title: Calculation of performance metrics (sea-surface salinity)
#    description: Sea-surface salinity
#    themes:
#      - phys
#    realms:
#      - ocean
#    variables:
#      sos:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-SEA-SURFACE-SALINITY
#        mip: Omon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CanCM4}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
##      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
##      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: MCM-UA-1-0, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ESACCI-SEA-SURFACE-SALINITY, project: OBS6,  tier: 2,
#          type: reanaly, version: fv2.31, start_year: 2010, end_year: 2019,
#          alias: ESACCI-SEA-SURFACE-SALINITY_V2}
#    scripts:
#      grading:
#        <<: *grading_settings

#  sst:
#    title: Calculation of performance metrics (sea-surface (skin) temperature)
#    description: Sea-surface (skin) temperature
#    themes:
#      - phys
#    realms:
#      - atmos
#      - ocean
#    variables:
#      ts:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-SST
##        alternative_dataset: HadISST
#        mip: Amon
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CanCM4}
#      - {dataset: CMCC-CM}
#      - {dataset: CMCC-CMS}
#      - {dataset: FGOALS-g2}
#      - {dataset: GFDL-CM2p1}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: CIESM, grid: gr, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
#      - {dataset: MCM-UA-1-0, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: ESACCI-SST, project: OBS, type: sat,
#         version: L4-GHRSST-SSTdepth-OSTIA-GLOB, tier: 2, start_year: 1992}
##      - {dataset: HadISST, project: OBS, type: reanaly, version: 1, tier: 2}
#    scripts:
#      grading:
#        <<: *grading_settings

#  swcre:
#    title: Calculation of performance metrics (shortwave cloud radiative effect)
#    description: Shortwave cloud radiative effect
#    themes:
#      - clouds
#    realms:
#      - atmos
#    variables:
#      swcre:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-CLOUD
##        alternative_dataset: CERES-EBAF
#        mip: Amon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CMCC-CM}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: HadCM3}
#      - {dataset: MRI-CGCM3}
#      - {dataset: AWI-CM-1-1-MR, grid: gn, ensemble: r1i1p1f1, project: CMIP6}
#      - {dataset: BCC-ESM1, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CanESM5-CanOE, ensemble: r1i1p2f1, grid: gn, project: CMIP6}
#      - {dataset: FGOALS-f3-L, ensemble: r1i1p1f1, grid: gr, project: CMIP6}
##      - {dataset: CERES-EBAF, project: obs4MIPs, level: L3B,
##         version: Ed2-8, tier: 1, start_year: 2001, end_year: 2015}
#      - {dataset: ESACCI-CLOUD, project: OBS, type: sat, version: AVHRR-AMPM-fv3.0, tier: 2,
#         start_year: 1996, end_year: 2016}
#    scripts:
#      grading:
#        <<: *grading_settings

#  toz:
#    title: Calculation of performance metrics (total column ozone)
#    description: Total column ozone
#    themes:
#      - chem
#      - ghg
#    realms:
#      - atmosChem
#    variables:
#      toz:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: ESACCI-OZONE
##        alternative_dataset: NIWA-BS
#        mip: Amon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: CESM1-WACCM, ensemble: r2i1p1}
#      - {dataset: CNRM-CM5}
#      - {dataset: GFDL-CM3}
#      - {dataset: GISS-E2-H, ensemble: r1i1p2}
#      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: MIROC-ESM-CHEM}
#      # CMIP6 models with interactive tropospheric and interactive stratospheric ozone:
#      # https://www.nature.com/articles/s41612-020-00131-0/tables/1
##cmor error      - {dataset: CESM2-WACCM, institute: NCAR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, mip: AERmon}
##missing data      - {dataset: GISS-E2-1-H, ensemble: r1i1p3f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: MRI-ESM2-0, ensemble: r1i1p1f1, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: UKESM1-0-LL, ensemble: r1i1p1f2, grid: gn, project: CMIP6, mip: AERmon}
#      - {dataset: ESACCI-OZONE, project: OBS, type: sat, version: L3, tier: 2, start_year: 1997, end_year: 2010}
##      - {dataset: NIWA-BS, project: OBS, type: sat, version: v3.3, tier: 3}
#    scripts:
#      grading:
#        <<: *grading_settings

#  xch4:
#    title: Calculation of performance metrics (column average CH4)
#    description: Column average CH4
#    themes:
#      - chem
#      - ghg
#      - phys
#    realms:
#      - atmos
#    variables:
#      xch4:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: CDS-XCH4
#        mip: Amon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: historical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#      - {dataset: BNU-ESM}
#      - {dataset: CESM1-FASTCHEM}
#      - {dataset: CESM1-WACCM}
#      - {dataset: FIO-ESM}
##shape error      - {dataset: GISS-E2-H, ensemble: r1i1p2}
##shape error      - {dataset: GISS-E2-R, ensemble: r1i1p2}
#      - {dataset: MIROC-ESM-CHEM}
#      - {dataset: MRI-ESM1}
#      - {dataset: BCC-CSM2-MR, project: CMIP6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: BCC-ESM1, project: CMIP6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM, project: CMIP6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CESM2-WACCM-FV2, project: CMIP6, ensemble: r1i1p1f1, grid: gn, project: CMIP6}
#      - {dataset: CNRM-ESM2-1, project: CMIP6, ensemble: r1i1p1f2, grid: gr, project: CMIP6}
#      - {dataset: GFDL-ESM4, project: CMIP6, ensemble: r1i1p1f1, grid: gr1, project: CMIP6}
#      - {dataset: UKESM1-0-LL, project: CMIP6, ensemble: r1i1p1f2, grid: gn, project: CMIP6}
#      - {dataset: CDS-XCH4, project: OBS, type: sat, version: L3, tier: 3, start_year: 2003, end_year: 2018}
#    scripts:
#      grading:
#        <<: *grading_settings

#  xco2:
#    title: Calculation of performance metrics (column average CO2)
#    description: Column average CO2
#    themes:
#      - chem
#      - ghg
#      - phys
#    realms:
#      - atmos
#    variables:
#      xco2:
#        preprocessor: ppNOLEV1x1
#        reference_dataset: CDS-XCO2
#        mip: Amon
#        derive: true
#        force_derivation: false
#        project: CMIP5
#        exp: esmHistorical
#        ensemble: r1i1p1
#        start_year: 1986
#        end_year: 2005
#    additional_datasets:
#          - {dataset: BNU-ESM}
#          - {dataset: CanESM2}
#          - {dataset: CESM1-BGC}
#          - {dataset: GFDL-ESM2G}
#          - {dataset: GFDL-ESM2M}
#          - {dataset: MIROC-ESM}
#          - {dataset: MPI-ESM-LR}
#          - {dataset: MRI-ESM1}
#          - {dataset: NorESM1-ME}
#          - {dataset: CanESM5, ensemble: r1i1p1f1, grid: gn, project: CMIP6, exp: esm-hist}
#          - {dataset: CNRM-ESM2-1, ensemble: r1i1p1f3, grid: gr, project: CMIP6, exp: esm-hist}
#          - {dataset: GFDL-ESM4, ensemble: r1i1p1f1, grid: gr1, project: CMIP6, exp: esm-hist}
#          - {dataset: MPI-ESM1-2-LR, ensemble: r1i1p1f1, grid: gn, project: CMIP6, exp: esm-hist}
#          - {dataset: CDS-XCO2, project: OBS, type: sat, version: L3, tier: 3, start_year: 2003, end_year: 2017}
#    scripts:
#      grading:
#        <<: *grading_settings

  collect:
    title: Collection of performance metrics
    description: Wrapper to collect and plot previously calculated metrics
    scripts:
      fig_RMSD:
        script: perfmetrics/collect.ncl
        ancestors: ['*/grading*']
        metric: RMSD
        label_bounds: [-0.5, 0.5]
        label_scale: 0.1
        disp_values: false
        cm_interval: [2, 241]
        # Sort dataset in alphabetic order (excluding MMM)
        project_order: ['CMIP5', 'CMIP6']
        # Sort diagnostics in a specific order (name = 'diagnositic'-'region')
        # 'oc-global'
        diag_order: ['clt-global'] 
#        diag_order: ['prw-global', 'sos-global', 'sst-global', 'lst-global',
#                     'rlut-global', 'rsut-global', 'lwcre-global', 'sm-global',
#                     'swcre-global', 'iwp-global', 'lwp-global', 'clt-global',
#                     'oc-golbal', 'xco2-global', 'xch4-global', 'od550lt1aer-global',
#                     'od870aer-global', 'abs550aer-global', 'od550aer-global']

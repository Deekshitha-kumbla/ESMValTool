---
documentation:
  description: |
    Example recipe for diagnostics from the surface collection

  authors:
    - muel_bn

  maintainer:
    - muel_bn

preprocessors:
  noop: {}

  t63: # TODO: not implemented yet. proxy
      regrid:
        target_grid: 1.875x1.875
        scheme: area_weighted

  regrid1:
      regrid:
        target_grid: 1x1
        scheme: nearest

  regrid2:
      regrid:
        target_grid: 2x2
        scheme: nearest
        
diagnostics:
  TEST:
    themes:
      - phys
    realms:
      - land
    description: TEST diagnostics.
    variables:
      sm:
        reference_dataset: CNRM-CM5
        derive: true
        force_derivation: false
        preprocessor: t63
        start_year: 1950
        end_year: 2005
    additional_datasets:
      - {dataset: CNRM-CM5,  project: CMIP5,  mip: Lmon,  exp: historical,  ensemble: r1i1p1}
      - {dataset: IPSL-CM5A-MR,  project: CMIP5,  mip: Lmon,  exp: historical,  ensemble: r1i1p1}
      #- {dataset: MRI-ESM1,  project: CMIP5,  mip: Lmon,  exp: historical,  ensemble: r1i1p1}
      #- {dataset: ESACCI-SOILMOISTURE, project: OBS, type: sat, version: L3S-SSMV-COMBINED, tier: 3}
    scripts:
      Info:
        script: surfacecollection/main_diag_selector.py
#        requests: None

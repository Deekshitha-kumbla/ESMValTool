#ESMValTool
---
documentation:
  description: |
    This is an example recipe for a personal diagnostic.
    You can run any Python diagnostic of your choice
    without installing ESMValTool as developer or git pushing.
    Simply include the full path to your script of choice in script,
    see example /path/to/your/my_little_diagnostic.py
    An example personal diagnostic can be found in
    esmvaltool/diag_scripts/examples/my_little_diagnostic.py

  authors:
    - predoi_valeriu

  maintainer:
    - predoi_valeriu


datasets:
#  - {project: PRIMAVERA, activity: HighResMIP, mip: 6hrPlevPt, dataset: CNRM-CM6-1-HR, exp: highresSST-present , ensemble: r1i1p1f2, grid: gr, start_year: 2013, end_year: 2013}
  - {project: PRIMAVERA, mip: 6hrPlevPt, dataset: CNRM-CM6-1, exp: highresSST-present, ensemble: r1i1p1f2, grid: gr, start_year: 2011, end_year: 2011}

preprocessors:
  ppregrid:
    extract_time: &time_period
      start_year: 2011
      start_month: 1
      start_day: 1
      end_year: 2011
      end_month: 7
      end_day: 1
    regrid:
      target_grid: 1x1
      scheme: linear

  ppwind:
    extract_time: *time_period
    extract_levels:
      levels: [85000, 70000, 50000]
      scheme: linear
    regrid:
      target_grid: 1x1
      scheme: linear

  ppta:
    extract_time: *time_period
    extract_levels:
      levels: [50000,45000,40000,35000,30000]
      scheme: linear
    regrid:
      target_grid: 1x1
      scheme: linear

  ppzg:
    extract_time: *time_period
    extract_levels:
      levels: [90000, 85000, 80000, 75000, 70000, 65000, 60000, 55000, 50000,
    45000, 40000, 35000, 30000]
      scheme: linear
    regrid:
      target_grid: 1x1
      scheme: linear

diagnostics:
  tracker:
    variables:
      psl:
        preprocessor: ppregrid
        short: psl
      ua:
        preprocessor: ppwind
        short: ua
      va:
        preprocessor: ppwind
        short: va
      uas:
        preprocessor: ppregrid
        short: uas
      vas:
        preprocessor: ppregrid
        short: vas
      ta:
        preprocessor: ppta
        short: ta
      zg:
        preprocessor: ppzg
        short: zg
    scripts:
      preproccess:
        westbd: -1000
        eastbd: -1000
        northbd: -1000
        southbd: -1000
        type: 'tcgen'
        mslpthresh: 0.01
        mslpthresh2: 101000
        v850thresh: 5
        contint: 100.0
        wcore_depth: 1.0
        verb: 3
        ikeflag: y
        tracker_exe: /home/users/sloosvel/BSC-Cyclone-Tracker/BSC-Cyclone-Tracker/gfdl-vortextracker/trk_exec/tracker.exe
        script: primavera/cyclone_tracker/cyclone_tracker.py

    #  postprocess:
    #    scale: 1min #1min 10min, 1hour, 3hours
    #    lat_max: 40
    #    time_min: 24
    #    wind_min: 1
    #    max_landfall: 5
    #    no_cores: 1
    #    script: primavera/cyclone_postprocess.R





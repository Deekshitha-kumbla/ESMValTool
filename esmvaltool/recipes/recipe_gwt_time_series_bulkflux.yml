# ESMValTool
# recipe_gwt_time_series.yml
---
documentation:
  description: |
    Recipe to calcualte changes in behaviour at specific years for the UKESM
    Land surface Global warming thresholds.

    The years were calculated using recipe_gwt_temp.yml

  authors:
    - demora_lee

  maintainer:
    - demora_lee

  references:
    - demora2018gmd

  projects:
    - ukesm

preprocessors:
  prep_timeseries_2d_sea:
    custom_order: true
    area_statistics:
      operator: mean
      fx_variables: [{short_name: areacello, mip: Ofx, exp: piControl, ensemble: r1i1p1f2, grid: gn, activity: CMIP}]
    annual_statistics:
      operator: mean

  prep_total_sea:
    custom_order: true
    area_statistics:
      operator: sum


  prep_timeseries_2d_land:
    custom_order: true
    annual_statistics:
      operator: mean
    mask_landsea:
      mask_out: sea  # if land (sea), will mask land (sea and oceans) out
    area_statistics:
      operator: mean
      fx_variables: [{short_name: areacella, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, activity: CMIP}]

  prep_total_land:
    custom_order: true
    mask_landsea:
      mask_out: sea  # if land (sea), will mask land (sea and oceans) out
    area_statistics:
      operator: sum


  prep_timeseries_2d_air:
    custom_order: true
    annual_statistics:
      operator: mean
    area_statistics:
      operator: mean
      fx_variables: [{short_name: areacella, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, activity: CMIP}]

  prep_total_air:
    custom_order: true
    area_statistics:
      operator: sum



diagnostics:
  # --------------------------------------------------
  # Time series diagnostics
  # --------------------------------------------------
  time_series:
    variables:
      area_land:
        short_name: areacella
        preprocessor: prep_total_land
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      area_air:
        short_name: areacella
        preprocessor: prep_total_air
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      area_sea:
        short_name: areacello
        preprocessor: prep_total_sea
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Ofx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}


      ########################
      # Atmosphere
      timeseries_tas:
        short_name: tas
        preprocessor: prep_timeseries_2d_air
        fx_var_preprocess: True
        additional_datasets:
         # /data/sthenno1/scratch/ledm/CMIP6/tas
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r1i1p1f2, start_year: 1950, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585, ssp534-over],ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585, ssp534-over],ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585, ssp534-over],ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585, ssp534-over],ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585, ssp534-over],ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

      ########################
      # Ocean
      timeseries_fgco2:
        short_name: fgco2
        preprocessor: prep_timeseries_2d_sea
        fx_var_preprocess: True
        additional_datasets:
          # All ssp434 are missing.
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

      timeseries_intpp:
        short_name: intpp
        preprocessor: prep_timeseries_2d_sea
        fx_var_preprocess: True
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         # Problem loading historical file.
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp434],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585, ssp534-over],ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

      ########################
      # Land

      timeseries_gpp:
        short_name: gpp
        preprocessor: prep_timeseries_2d_land
        fx_var_preprocess: True
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}



    timeseries_nbp:
      short_name: nbp
      preprocessor: prep_timeseries_2d_land
      fx_var_preprocess: True
      additional_datasets:
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r1i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r2i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r3i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r4i1p1f2, start_year: 1990, end_year: 2100, grid: gn}

       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp434],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585],     ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}
       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585, ssp534-over],ensemble: r8i1p1f2, start_year: 1990, end_year: 2100, grid: gn}



    scripts:
      diagnostic_timeseries:
        script: ocean/diagnostic_timeseries.py

      diagnostic_gwt_timeseries:
        script: ocean/diagnostic_gwt_timeseries.py

# Recipe to call ESA CCI LST with uncertainties diagnostic.
---
documentation:
  description: |
    Please add description here
  authors:
    - king_robert

  maintainer:
    - king_robert

  references:
    - esacci-lst

datasets:
  - {dataset: UKESM1-0-LL, project: CMIP6, exp: historical, ensemble: r1i1p1f2, start_year: 2010, end_year: 2010, grid: gn, frequency: monthly}

preprocessors:

  lst_preprocessor:
    regrid:
      target_grid: UKESM1-0-LL
      scheme: linear

    extract_region: 
      start_longitude: 35
      end_longitude: 45
      start_latitude: 60
      end_latitude: 70

    mask_landsea:
      mask_out: sea

diagnostics:
  timeseries:
    description: ESACCI LST difference to model historical ensemble average
    themes:
      - phys
    realms:
      - atmos
    variables:
      tsLocalSfcErrDay:
        mip: Amon
#        project: custom
        preprocessor: lst_preprocessor
        dataset: ESACCI_LST_UNCERT
#        additional_datasets:
#          - {dataset: ESACCI_LST_UNCERT, project: custom, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
    scripts:
      script1:
        script: lst_uncert/lst_uncert.py

    # variables:

    #   fgco2_hist:

    #     short_name: fgco2

    #     exp: historical

    #     mip: Omon

    #     preprocessor: annual_sum_global

    #     start_year: 1850

    #     end_year: 2014
# Recipe to call ESA CCI LST with uncertainties diagnostic.
---
documentation:
  description: |
    Please add description here
  authors:
    - king_robert

  title: ESACCI LST difference to model historical ensemble average

  maintainer:
    - king_robert

  references:
    - esacci-lst
 
preprocessors:

  lst_preprocessor:

    extract_region: 
      start_longitude: 35
      end_longitude: 45
      start_latitude: 60
      end_latitude: 70
    # ensemble_statistics:
    #   statistics: [mean, median]
    # multi_model_statistics:
    #   span: overlap
    #   statistics: [mean, median]
    #   exclude: [ESACCI_LST_UNCERTS]

diagnostics:
  timeseries:
    description: ESACCI LST difference to model historical ensemble average
    themes:
      - phys
    realms:
      - atmos
    variables:

      ts:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, exp: historical, ensemble: r1i1p1f2, start_year: 2010, end_year: 2010, grid: gn}#, frequency: monthly}
          - {dataset: UKESM1-0-LL, project: CMIP6, exp: historical, ensemble: r2i1p1f2, start_year: 2010, end_year: 2010, grid: gn}#, frequency: monthly}

        #  - {dataset: CESM2,      project: CMIP6, exp: historical, ensemble: r(1:11)ip1f2, start_year: 2010, end_year: 2010, grid: gn}#, frequency: monthly}

      # tsDay:
      #   mip: Amon
      #   preprocessor: lst_preprocessor
      #   additional_datasets:
      #     - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      # tsNight:
      #   mip: Amon
      #   preprocessor: lst_preprocessor
      #   additional_datasets:
      #     - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsLocalSfcErrDay:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsLocalSfcErrNight:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 


      tsLocalAtmErrDay:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsLocalAtmErrNight:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsLSSysErrDay:
        mip: Amon
        #preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsLSSysErrNight:
        mip: Amon
        #preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsUnCorErrDay:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 

      tsUnCorErrNight:
        mip: Amon
        preprocessor: lst_preprocessor
        additional_datasets:
          - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 


      # tsStderr:
      #   mip: Amon
      #   preprocessor: lst_preprocessor
      #   additional_datasets:
      #     - {dataset: ESACCI_LST_UNCERTS, project: OBS, type: sat, tier: 2, start_year: 2010, end_year: 2010, version: '1.00'}
 


    scripts:
      script1:
#        script: /home/users/robking/ESMValTool/esmvaltool/diag_scripts/lst_uncert/lst_uncert.py
        script: lst_uncert/lst_uncert.py

# ESMValTool
# recipe_gwt_temp.yml
---
documentation:
  description: |
    Recipe to calcualte threshold years for UKESM Global warming thresholds.

  authors:
    - demora_lee

  maintainer:
    - demora_lee

  references:
    - demora2018gmd

  projects:
    - ukesm

preprocessors:
  prep_1:
    custom_order: true
    climate_statistics:
      operator: mean
      period: full
    # multi_model_statistics:
    #   span: full
    #   statistics: [mean ]

diagnostics:
  # --------------------------------------------------
  # Time series diagnostics
  # --------------------------------------------------
  diag_timeseries:
    variables:
      tas_hist:
        short_name: tas
        preprocessor: prep_1
        additional_datasets:
            - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
            - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r2i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
            - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r3i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
            - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r4i1p1f2, start_year: 1850, end_year: 1900, grid: gn}
            - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r8i1p1f2, start_year: 1850, end_year: 1900, grid: gn}

      tas_ssp119_1.5:
        short_name: tas
        preprocessor: prep_1
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 2014, end_year: 2034, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r3i1p1f2, start_year: 2013, end_year: 2033, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r4i1p1f2, start_year: 2017, end_year: 2037, grid: gn}

    #   tas_ssp119_2:
    #     short_name: tas
    #     preprocessor: prep_1
    #     additional_datasets:
    #       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 2030, end_year: 2050, grid: gn}
    #       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r3i1p1f2, start_year: 2028, end_year: 2048, grid: gn}
    #       - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r4i1p1f2, start_year: 2030, end_year: 2050, grid: gn}

      tas_ssp585_6:
        short_name: tas
        preprocessor: prep_1
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 2076, end_year: 2096, grid: gn}
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 2076, end_year: 2096, grid: gn}




          # ssp 119, 2.
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 2027, end_year: 2047, grid: gn}

        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp534-over], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp534-over], ensemble: r2i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp534-over], ensemble: r3i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp534-over], ensemble: r4i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp434], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
        # #   - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp534-over], ensemble: r8i1p1f2, start_year: 1850, end_year: 2100, grid: gn}

    scripts:
      GWT_times_series:
        script: ocean/diagnostic_maps_gwt.py

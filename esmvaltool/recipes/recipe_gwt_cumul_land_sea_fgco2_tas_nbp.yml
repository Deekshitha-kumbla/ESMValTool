# ESMValTool
# recipe_gwt_cumul_land_sea_fgco2_tas_nbp.yml
---
documentation:
  title: |
    Cumulative land-sea maps.

  description: |
    Recipe to calclate GWT sptial distribution at specific GWT.

  authors:
    - demora_lee

  maintainer:
    - demora_lee

  references:
    - demora2018gmd

  projects:
    - ukesm

preprocessors:
  # annual_mean:
  #   climate_statistics:
  #     operator: mean
  #     period: full
  annual_mean:
    annual_statistics:
      operator: mean
      #period: full

  global_annual_mean:
    custom_order: true
    annual_statistics:
      operator: mean
    area_statistics:
      operator: mean
      #fx_variables: [{short_name: areacella, mip: fx, exp: piControl, ensemble: [r1i1p1f2,r1i1p1f1], grid: gn, activity: CMIP}]
      fx_variables: [{short_name: areacella, mip: fx, exp: '*', ensemble: '*', grid: gn, activity: CMIP}]

diagnostics:
  diag_cumul_maps:
    variables:

      tas_ts:
        short_name: tas
        preprocessor: global_annual_mean
        additional_datasets:
         #- {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1850, end_year: 2100, grid: gn}


      # Atmosphere
      tas_fx:
        mip: fx
        short_name: areacella
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      # nbp
      tas:
        short_name: tas
        preprocessor: annual_mean
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Amon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}


     # Land
      tsl_fx:
        mip: fx
        short_name: areacella
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      # nbp
      tsl:
        short_name: tsl
        preprocessor: annual_mean
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}


      nbp_fx:
        mip: fx
        short_name: areacella
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, mip: fx, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      # nbp
      nbp:
        short_name: nbp
        preprocessor: annual_mean
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Lmon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}

      # Ocean:
      fgco2_fx:
        mip: Ofx
        short_name: areacello
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}


      fgco2_historical:
        short_name: fgco2
        preprocessor: annual_mean
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}

      tos_fx:
        mip: Ofx
        short_name: areacello
        additional_datasets:
          - {dataset: UKESM1-0-LL, project: CMIP6, exp: piControl, ensemble: r1i1p1f2, grid: gn, start_year: 1850, end_year: 1850,}

      tos_historical:
        short_name: tos
        preprocessor: annual_mean
        additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: historical, ensemble: r1i1p1f2, start_year: 1850, end_year: 2014, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp119], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp126], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp245], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp370], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}
         - {dataset: UKESM1-0-LL, project: CMIP6, mip: Omon, exp: [historical, ssp585], ensemble: r1i1p1f2, start_year: 1993, end_year: 2100, grid: gn}



    scripts:
      cumul_maps:
        script: ocean/diagnostic_maps_cumul_land_and_sea.py

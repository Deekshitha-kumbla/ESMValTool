# ESMValTool
# recipe_era5.yml
---
documentation:
  description: CMORize ERA5 data

  authors:
    - andela_bouwe
    - kalverla_peter

  references:
    - acknow_project

  projects:
    - ewatercycle

datasets:
  # For the daily diagnostic, always add the next year, otherwise the last day is not cmor compatible
  #- {dataset: ERA5, project: native6, type: reanaly, version: 'v1', tier: 3, start_year: 1981, end_year: 2019}
  - {dataset: ERA5, project: native6, type: reanaly, version: 'v1', tier: 3, start_year: 1979, end_year: 2019}

preprocessors:
  add_one_day: &add_one_day
    extract_time:
      end_year: 1991
      end_month: 1
      end_day: 1

  daily_mean:
    <<: *add_one_day
    daily_statistics:
      operator: mean
  daily_min:
    <<: *add_one_day
    daily_statistics:
      operator: min
  daily_max:
    <<: *add_one_day
    daily_statistics:
      operator: max

diagnostics:
  monthly:
    description: CMORize monthly ERA5 data
    scripts:
      rename:
        script: cmorizers/era5.py
    variables:
      lwp:
        mip: Amon
        era5_name: total_column_cloud_liquid_water
        era5_freq: monthly

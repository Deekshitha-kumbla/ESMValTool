# ESMValTool
# recipe_scatter.yml
---
documentation:
  description: |
    Trying to learn ESMValTool and get it to do a multi model scatter plot for me

  authors:
    - crocker_thomas

  maintainer:
    - crocker_thomas

  #references:
  #  - Ref to McSweeny paper?


datasets:
  # datasets
  - {dataset: ACCESS1-0, project: CMIP5, ensemble: r1i1p1}
  - {dataset: ACCESS1-3, project: CMIP5, ensemble: r1i1p1}
  - {dataset: bcc-csm1-1, project: CMIP5, ensemble: r1i1p1}
  - {dataset: bcc-csm1-1-m, project: CMIP5, ensemble: r1i1p1}
  - {dataset: BNU-ESM, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CanESM2, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CCSM4, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CESM1-BGC, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CMCC-CM, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CNRM-CM5, project: CMIP5, ensemble: r1i1p1}
  - {dataset: CSIRO-Mk3-6-0, project: CMIP5, ensemble: r1i1p1}
  #- {dataset: EC-EARTH, project: CMIP5, ensemble: r1i1p1}
  #- {dataset: FGOALS-g2, project: CMIP5, ensemble: r1i1p1}
  - {dataset: GFDL-CM3, project: CMIP5, ensemble: r1i1p1}
  - {dataset: GFDL-ESM2G, project: CMIP5, ensemble: r1i1p1}
  - {dataset: GFDL-ESM2M, project: CMIP5, ensemble: r1i1p1}
  - {dataset: GISS-E2-H, project: CMIP5, ensemble: r1i1p1}
  - {dataset: GISS-E2-R, project: CMIP5, ensemble: r1i1p1}
  - {dataset: HadGEM2-CC, project: CMIP5, ensemble: r1i1p1}
  - {dataset: HadGEM2-ES, project: CMIP5, ensemble: r1i1p1}
  - {dataset: inmcm4, project: CMIP5, ensemble: r1i1p1}
  - {dataset: IPSL-CM5A-LR, project: CMIP5, ensemble: r1i1p1}
  - {dataset: IPSL-CM5A-MR, project: CMIP5, ensemble: r1i1p1}
  - {dataset: IPSL-CM5B-LR, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MIROC-ESM, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MIROC-ESM-CHEM, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MIROC5, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MPI-ESM-LR, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MPI-ESM-MR, project: CMIP5, ensemble: r1i1p1}
  - {dataset: MRI-CGCM3, project: CMIP5, ensemble: r1i1p1}
  - {dataset: NorESM1-M, project: CMIP5, ensemble: r1i1p1}

preprocessors:

  proc:
    regrid:
      target_grid: 1x1
      scheme: area_weighted
    extract_shape:
      # shapefile: /project/ciid/projects/Vietnam_Dengue/shapefiles/province_shp/province.shp
      shapefile: /project/ciid/projects/ARAMCO/shapefiles/SAU_adm0.shp
      method: contains
    area_statistics:
      operator: mean
    climate_statistics:
      operator: mean
      period: full

diagnostics:
  diagnostic1:
    description: Make a scatter plot of first variable against second
    variables:
      tas_hist:
        short_name: tas
        preprocessor: proc
        mip: Amon
        start_year: 1981
        end_year: 2005
        exp: historical
      tas_fut:
        short_name: tas
        preprocessor: proc
        mip: Amon
        start_year: 2070
        end_year: 2099
        exp: rcp85
      pr_hist:
        short_name: pr
        preprocessor: proc
        mip: Amon
        start_year: 1981
        end_year: 2005
        exp: historical
      pr_fut:
        short_name: pr
        preprocessor: proc
        mip: Amon
        start_year: 2070
        end_year: 2099
        exp: rcp85
    scripts:
      script1:
        script: toms/scatter.py

# Recipe for usign GLOBMAP LAI to get 4GST classification
---
documentation:
  title: GLOBMAP LAI 4GST
  description: |
    xxxxxxx
  authors:
    - king_robert

  maintainer:
    - king_robert

  references:
    - esacci_lst

  projects:
    - cmsaf

preprocessors:
   test:
      extract_region:
         start_latitude: 4
         end_latitude: 6
         start_longitude: 10
         end_longitude: 12

      area_statistics:
         operator: mean


diagnostics:

   LAI_4GST:
    description: 4GST
    variables:
      lai:
       mip: Lmon
       preprocessor: test
       additional_datasets:
         - {dataset: UKESM1-0-LL, project: CMIP6, exp: historical,
            ensemble: r1i1p1f2, start_year: 1991, end_year: 2014, grid: gn}
         - {dataset: CESM2, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
         - {dataset: TaiESM1, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
##         - {dataset: AWI-ESM-1-1-LR, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
##         - {dataset: BCC-ESM1, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
#         - {dataset: CanESM5, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
##        - {dataset: IITM-ESM, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}
#         - {dataset: CMCC-ESM2, project: CMIP6, exp: historical, ensemble: r1i1p1f1, start_year: 1991, end_year: 2014, grid: gn}

      lairpk:
         mip: custom
         preprocessor: test
         additional_datasets:
            - {dataset: GLOBMAP_LAI, project: OBS, mip: custom, tier: 2,
               type: sat, version: 3, start_year: 1991, end_year: 2020}
    scripts:
       script1:
          script: cmsaf/lai_4gst.py